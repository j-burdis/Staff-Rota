<!-- app/views/employees/show.html.erb -->
<div class="employees-show-header">
  <!-- Keep only one input field that's always visible but initially disabled -->
  <input 
    type="text" 
    name="employee[name]" 
    value="<%= @employee.name %>" 
    class="employees-show-title" 
    disabled 
    data-employees-target="nameInput"
  />
  
  <div class="employees-show-status">
    <strong>Status:</strong> 
    <span class="employee-status <%= @employee.active? ? 'employees-list-item-status-active' : 'employees-list-item-status-inactive' %>">
      <%= @employee.active? ? 'Active' : 'Inactive' %>
    </span>
  </div>
</div>

<div class="employees-show-actions">
  <div class="default-actions">
    <a 
      href="#" 
      data-action="click->employees#startEdit" 
      class="btn btn-secondary">
      Edit
    </a>
    
    <% if @employee.active? %>
      <button 
        data-action="click->employees#deactivate" 
        class="btn btn-warning">
        Deactivate
      </button>
    <% else %>
      <button 
        data-action="click->employees#reactivate" 
        class="btn btn-success">
        Reactivate
      </button>
    <% end %>
    
    <%= button_to 'Delete', 
    employee_path(@employee), 
    method: :delete, 
    data: { 
      confirm: 'Are you sure you want to permanently delete this employee?',
      turbolinks: false 
    }, 
    class: 'btn btn-danger' %>
  </div>

  <div class="edit-actions hidden">
    <%= form_with(
      model: @employee, 
      local: false,
      data: { 
        action: 'submit->employees#updateEmployee'
      }
    ) do |form| %>
      <!-- Remove this duplicate input field -->
      <!-- Instead, we'll use the one input field above and just enable/disable it -->
      
      <div class="employees-form-group">
        <%= form.check_box :active %>
        <span>Employee is currently active</span>
      </div>

      <div class="edit-form-actions">
        <%= form.submit 'Update', class: 'btn btn-primary' %>
        <a 
          href="#" 
          data-action="click->employees#cancelEdit" 
          class="btn btn-secondary">
          Cancel
        </a>
      </div>
    <% end %>
  </div>
</div>
